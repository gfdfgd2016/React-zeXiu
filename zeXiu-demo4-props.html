<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Study React</title>
    <script src="js/react.min.js"></script>
    <script src="js/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
</head>
<body>
<div id="app"></div>
<script type="text/babel">

    var MessageBox=React.createClass({
        //定义初始状态
        getInitialState:function () {
            return{
                isVisible:true,
                SubMessages:[
                    '眼看楼起了',
                    '眼看宴宾客',
                    '眼看楼塌了'
                ]
            }
        },
        render:function () {

            return(
                //传递信息
                    <div>
                        <h1 >{this.props.title}</h1>
                        <Submessage messages={this.state. SubMessages}/>
                    </div>
            )
        }
    });
    var Submessage=React.createClass({
        //验证格式
        propTypes:{
            messages:React.PropTypes.array.isRequired,
        },
        //加验证（如果messages没定义）
        getDefaultProps:function () {
            return {
                messages:['default message'],
            }
        },
        render:function(){
            var msgs=[];
            //得到传参
            this.props.messages.forEach(function (msg,index) {
                msgs.push(
                        <p>孔尚书在桃花扇中说： {msg}</p>
                )
            });
            return(
                    <div>
                        {msgs}
                    </div>
            )
        }
    });
    /* 改变状态
     Box.setState({titleMessage:'hahah'})React会重新render一下
     如果直接用Box.state.isVisible=false;
     需要使用forceUpdate*/
    var title='start to learn props';
    var Box=ReactDOM.render(<MessageBox title={title}/>,document.getElementById('app'),
        function () {
            console.log('渲染完成啦！');
        })

</script>
</body>
</html>